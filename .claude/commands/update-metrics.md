# Update Metrics Dashboard

You are the **Metrics Agent**, regenerating the metrics dashboard from application folder data to ensure it's always accurate and up-to-date.

## ‚ö° Purpose

This command **AUTO-REGENERATES insights/metrics-dashboard.md** from application folders to ensure metrics always reflect current reality.

**What this means:**
- metrics-dashboard.md is treated as a **DERIVED VIEW** (disposable, regenerable)
- Application folders (`applications/*/status.md`) are the **SOURCE OF TRUTH**
- Any manual edits to metrics-dashboard.md will be overwritten
- Metrics will always be calculated from actual application data

**When to use this:**
- After submitting applications (to update "Applications Submitted" count)
- After status changes (interviews, rejections, offers)
- When STATUS.md shows inconsistency warning
- As part of `/sync-all` to regenerate all views

**Lighter than `/weekly-review`:**
- `/weekly-review` = Full analysis + patterns + insights + recommendations + generates multiple files
- `/update-metrics` = Quick metrics dashboard refresh only (this command)

---

## Your Task

Regenerate the metrics dashboard by:

### 1. Scan All Application Folders

**Collect data from `applications/*/status.md` files:**

For each folder, extract:
- **Company name**
- **Role title**
- **Fit score** (from analysis.md or status.md)
- **Current status:** applied, interview, offer, rejected, withdrawn, in_progress
- **Application date** (date when status = "applied")
- **Status change dates** (for calculating response times)
- **Location** (for geographic analysis)
- **Role type** (Growth PM, Platform PM, Director, AI/ML, etc.)

### 2. Calculate Key Metrics

**Applications:**
- Total submitted (status = "applied")
- Total withdrawn (status = "withdrawn")
- Total rejected (status = "rejected")
- Total in progress (status = "in_progress", analysis only)

**Interviews:**
- Interview invitations (status = "interview")
- Interviews completed (count from status timeline)
- Scheduled interviews (future dates)

**Offers:**
- Offers received (status = "offer")
- Offers accepted (status = "offer_accepted")

**Conversion Rates:**
- Application ‚Üí Interview: (interviews / applied) √ó 100%
- Interview ‚Üí Offer: (offers / interviews) √ó 100%
- Application ‚Üí Offer: (offers / applied) √ó 100%

**Time Metrics:**
- Average days to first response (applied date ‚Üí interview/rejection date)
- Fastest response (minimum days)
- Slowest response (maximum days)
- Companies still awaiting response (status = "applied", no response yet)

### 3. Analyze by Categories

**By Fit Score:**
```
9-10: X applications, Y interviews (Z% rate)
7-8:  X applications, Y interviews (Z% rate)
5-6:  X applications, Y interviews (Z% rate)
3-4:  X applications, Y interviews (Z% rate)
```

**By Location:**
```
London: X applications, Y interviews
Remote (UK): X applications, Y interviews
Remote (EU): X applications, Y interviews
Other: X applications, Y interviews
```

**By Role Type:**
- Extract from role titles: Growth PM, Platform PM, Director/VP, AI/ML PM, etc.
- Count applications and interviews for each type

### 4. Validate Data Quality

**Check for issues:**
- [ ] All application folders have status.md files
- [ ] All "applied" status entries have dates
- [ ] No impossible date calculations (negative days)
- [ ] Fit scores are valid (between 0-10)
- [ ] No orphaned data

**Flag inconsistencies:**
- Missing dates
- Invalid status values
- Calculation errors

### 5. Generate metrics-dashboard.md File

**IMPORTANT:** After generating, **WRITE IT TO insights/metrics-dashboard.md**

Use the Write tool to create/overwrite the file.

**Format exactly as follows:**

```markdown
# Metrics Dashboard

**Last Updated:** [Today's Date YYYY-MM-DD]
**Generated By:** `/update-metrics` command (auto-regenerated from application folders)
**Data Through:** [Today's Date YYYY-MM-DD]
**Status:** [Active - X applications tracked]

---

> **Note:** This file is auto-generated. Manual edits will be overwritten.
> Source of truth: `applications/*/status.md` files
> To refresh: Run `/update-metrics` or `/sync-all`

---

## Key Performance Indicators

| Metric | This Week | This Month | All-Time |
|--------|-----------|------------|----------|
| Applications Submitted | X | X | X |
| Interview Invitations | X | X | X |
| Interviews Completed | X | X | X |
| Offers Received | X | X | X |
| Applications Rejected | X | X | X |
| Applications Withdrawn | X | X | X |

**Notes:**
- "This Week" = Last 7 days from today
- "This Month" = Current calendar month
- "All-Time" = Since October 2025

---

## Conversion Rates

| Funnel Stage | Rate | Benchmark | Status |
|--------------|------|-----------|--------|
| Application ‚Üí Interview | X% (Y/Z) | 20-30% (typical) | [Above/Below/On par] |
| Interview ‚Üí Offer | X% (Y/Z) | 20-30% (typical) | [Above/Below/On par] |
| Application ‚Üí Offer | X% (Y/Z) | 5-10% (typical) | [Above/Below/On par] |

**Interpretation:**
- N/A if < 10 applications (insufficient data)
- [Insights based on rates vs benchmarks]

---

## Performance by Fit Score

| Fit Score Range | Applications | Interviews | Interview Rate | Status |
|-----------------|--------------|-----------|----------------|--------|
| 9-10 | X | Y | Z% | [Pending/Active] |
| 7-8 | X | Y | Z% | [Pending/Active] |
| 5-6 | X | Y | Z% | [Pending/Active] |
| 3-4 | X | Y | Z% | [Pending/Active] |

**Insight:** [Correlation between fit score and success - e.g., "9-10 fit scores show X% interview rate vs Y% for 7-8"]

**Recommendation:** [Based on data - e.g., "Focus on 8+ fit scores" or "Current strategy working well"]

---

## Geographic Distribution

| Location | Applications | Interviews | Interview Rate | Active |
|----------|--------------|-----------|----------------|--------|
| London | X | Y | Z% | X awaiting |
| Remote (UK) | X | Y | Z% | X awaiting |
| EU (Cologne, etc.) | X | Y | Z% | X awaiting |
| Other | X | Y | Z% | X awaiting |

**Insight:** [Which locations respond best]

---

## Role Type Performance

| Role Type | Applications | Interviews | Interview Rate | Notes |
|-----------|--------------|-----------|----------------|-------|
| Growth PM | X | Y | Z% | [Insight] |
| Platform PM | X | Y | Z% | [Insight] |
| Director/VP | X | Y | Z% | [Insight] |
| AI/ML PM | X | Y | Z% | [Insight] |
| Other | X | Y | Z% | [Insight] |

**Best Performing:** [Role type with highest interview rate]
**Worst Performing:** [Role type with lowest interview rate]

**Insight:** [What this reveals about profile fit]

---

## Time Metrics

### Response Times

**Average time to first response:** X.X days
- **Interview invitation:** X.X days (avg)
- **Rejection:** X.X days (avg)

**Fastest response:** X days ([Company])
**Slowest response:** X days ([Company])

**Companies still awaiting response:** X
- [List companies with days waiting]

### Timeline Distribution

```
0-7 days:   X responses (Y%)
8-14 days:  X responses (Y%)
15-21 days: X responses (Y%)
21+ days:   X responses (Y%)
```

**Insight:** [Typical response timeline - e.g., "Most responses within 7-14 days"]

---

## Rejection Analysis

### Rejection Reasons (Cumulative)

| Reason | Count | % of Rejections |
|--------|-------|-----------------|
| [Extracted reason 1] | X | Y% |
| [Extracted reason 2] | X | Y% |
| No feedback given | X | Y% |

**Most Common Gap:** [What comes up repeatedly]
**Action Needed:** [Strategic recommendation]

**Note:** Extracted from status.md notes where available. "No feedback" when company didn't provide reason.

---

## Open Applications (Awaiting Response)

| Company | Role | Applied Date | Days Waiting | Fit Score | Status |
|---------|------|-------------|--------------|-----------|--------|
| [Company] | [Role] | YYYY-MM-DD | X | Y/10 | Applied |

**Total Awaiting:** X applications
**Average wait time:** X.X days
**Oldest:** [Company] (X days)

**Follow-up Recommendations:**
- 7-14 days: Monitor, no action yet
- 14+ days: Consider polite check-in
- 21+ days: Likely moved on, adjust expectations

---

## Quick Stats Summary

- **Total applications:** X submitted, Y withdrawn, Z rejected
- **Active pipeline:** X awaiting response
- **Interview rate:** X% (Y interviews / Z applications)
- **Average fit score:** X.X/10
- **Success rate:** [Too early to calculate / X%]
- **Time saved by system:** ~X hours (estimated)

---

## Data Quality Report

**Validation Status:** [High/Medium/Low]

**Checks Performed:**
- ‚úÖ All folders have status.md files (X/X)
- ‚úÖ All applied entries have dates
- ‚úÖ All calculations validated
- [‚úÖ/‚ùå] Fit scores valid (0-10 range)
- [‚úÖ/‚ùå] No orphaned data

**Folders Scanned:** X
**Status Files Read:** X
**Data Points Analyzed:** X

**Issues Found:** [None / List any inconsistencies]

---

## Related Documents

**For current state:**
- This file (`insights/metrics-dashboard.md`) - Auto-generated
- `STATUS.md` - Current status snapshot (also auto-generated)
- `applications/*/status.md` - Source of truth

**For detailed analysis:**
- `insights/weekly-review-YYYY-Www.md` - Weekly deep-dive analysis
- `insights/patterns.md` - Qualitative learnings and insights

**For planning:**
- `docs/reference/ROADMAP.md` - Strategic priorities
- `career-preferences.md` - Role criteria

---

**Auto-updated by:** `/update-metrics` command or `/weekly-review` command
**Manual refresh:** Run `/update-metrics` or `/sync-all` to regenerate
**Next update:** Run anytime for current metrics
**Source of truth:** `applications/*/status.md` files

**Last Generated:** [Today's Date YYYY-MM-DD at HH:MM UTC]
```

---

## Display to User

After writing the file, show:

```
üìä Metrics Dashboard Updated!

**Summary:**
- Applications: X submitted, Y withdrawn, Z rejected
- Interviews: X invitations, Y completed
- Conversion Rate: Z% (applications ‚Üí interviews)
- Active Pipeline: X applications awaiting response

**Data Quality:** [High/Medium/Low]
- Folders scanned: X
- Status files read: X
- Issues found: [None/X]

**Key Insights:**
- [Top insight from data - e.g., "9-10 fit scores show 45% interview rate"]
- [Geographic insight - e.g., "London roles performing best"]
- [Time insight - e.g., "Average response time: 8.5 days"]

üìÅ Updated: insights/metrics-dashboard.md

üí° For deeper analysis, run `/weekly-review`
```

---

## Rules & Best Practices

**CRITICAL:**
1. **Always recalculate from files** - Never trust existing metrics
2. **Validate dates** - Check for impossible calculations
3. **Handle edge cases** - What if no applications? No interviews yet?
4. **WRITE THE FILE** - Must use Write tool to save metrics-dashboard.md
5. **Add timestamp** - ISO format with timezone
6. **Flag inconsistencies** - Report any data quality issues

**Calculations:**
- Days waiting = Today's date (2025-11-05) - Application date
- Conversion rates as percentages rounded to 1 decimal
- N/A if denominator is 0 (can't divide by zero)

**Data sources:**
- Trust hierarchy: applications/*/status.md > analysis.md > folder names
- If fit score missing in status.md, check analysis.md
- If dates missing, flag as data quality issue

---

## Error Handling

**If no applications yet:**
```
‚ÑπÔ∏è No applications found. Metrics dashboard will show empty state.

This is normal if you're just starting. Dashboard will populate as you apply to roles.
```

**If insufficient data for patterns (<5 applications):**
```
‚ö†Ô∏è Limited data for statistical analysis (< 5 applications).

Metrics dashboard generated but patterns more meaningful after 10+ applications.
```

**If data quality issues found:**
```
‚ö†Ô∏è Data quality issues detected:
- [Issue 1: e.g., "3 folders missing status.md files"]
- [Issue 2: e.g., "2 applications have invalid dates"]

Metrics generated but may be incomplete. Recommend fixing source data.
```

---

**Now scan application folders and regenerate insights/metrics-dashboard.md**
